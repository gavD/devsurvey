<html>

<head>

    <title>Technical Values</title>


<style>
    .explain {
        font-style: italic;
        font-size: 0.9em;

    }
    td.explain {
        text-align: center;
    }
    * {
        font-family: Helvetica, verdana, arial, sans;
        letter-spacing: 1px;
    }
    .intro {
        background: #EFEEEE;
        padding: 40px;
        position: absolute;
        left: 0px;
        top: 0px;
        width: 280px;
        height: 100%;

    }
    .table {
        position: absolute;
        left: 380px;
        top: 120px;
    }

    button {
        font-size: 5em;
        padding: 10px;
        cursor: pointer;
        width: 100%;
    }

    .thanks {
        display: none;
        text-align: center;
        font-size: 6em;
        letter-spacing: 0.11em;
    }

    .circle {
        width: 4px;
        height: 4px;
        position: relative;
        background: green;
    }


</style>

</head>

<body>



<div id="wrapper">
    <div class="intro">

        <h1>Technical Values</h1>

    <p>When organisations communicate values clearly and developers internalise them, development becomes more cohesive.</p>

    <p>Alternatively, if developers do not understand the values or do not buy into them, the team is not pulling in the same direction.</p>

    <p>To establish perception of our values, this provides a list of tradeoffs. Please slide the sliders to where you think our technical values fall and post a screenshot.</p>

    <blockquote class="explain">
       Some of these tradeoffs may be <b>false dichotomies</b> but we are just looking to identify the <b>broad strokes</b> of our technical values.
    </blockquote>

    <p>I've tried to make this as neutral as possible but if biases have crept in, please don't be swayed :-)</p>

    <p>There are no 'wrong' answers - we are just trying to get a picture of where people see our values.</p>

        <p>All results are anonymous! We do not record who you are.</p>
    </div>



    <div class="table">


        <form name="theform" id="theform">

        <table border="0" cellspacing="0" cellpadding="7">


            <tr bgcolor="#F3ECE7"><th colspan="3">Features</th></tr>
            <tr bgcolor="#F3ECE7"><td align="right">Planned</td>
                <td><input name="features"
                           type="range" min="1" max="5" step="1" value="3" >
                </td>
                <td>Prototyped</td>
            </tr>
            <tr bgcolor="#F3ECE7"><td colspan="3" class="explain">Do we prefer to plan in detail or start building and iterate?</td></tr>


            <tr><th colspan="3"><br></th></tr>

            <tr bgcolor="#E9CCB1"><th colspan="3">Delivery</th></tr>
            <tr bgcolor="#E9CCB1"><td align="right">Throughput</td>
                <td width="140"><input name="delivery"
                           type="range" min="1" max="5" step="1" value="3">
                </td>
                <td>Quality</td>
            </tr>
            <tr bgcolor="#E9CCB1"><td colspan="3" class="explain">Is it important for us to ship more features and iterate, or to ship fewer features of higher quality?</td></tr>


            <tr><th colspan="3"><br></th></tr>


            <tr bgcolor="#D3C4BE"><th colspan="3">Toolchain</th></tr>
            <tr bgcolor="#D3C4BE"><td align="right">Cutting edge</td>
                <td><input name="toolchain"
                           type="range" min="1" max="5" step="1" value="3">
                </td>
                <td>Reliable</td>
            </tr>
            <tr bgcolor="#D3C4BE"><td colspan="3" class="explain">Do we want to be cutting edge or hold to what we know works?</td></tr>

            <tr><th colspan="3"><br></th></tr>

            <tr bgcolor="#E4DAC2"><th colspan="3">Approach</th></tr>
            <tr bgcolor="#E4DAC2"><td align="right">Consistent</td>
                <td><input name="approach"
                           type="range" min="1" max="5" step="1" value="3" >
                </td>
                <td>Flexibile</td>
            </tr>
            <tr bgcolor="#E4DAC2"><td colspan="3" class="explain">Do we prefer a consistent approach, or different approaches for different issues?</td></tr>

            <tr><th colspan="3"><br></th></tr>

            <tr bgcolor="#E8E6D9"><th colspan="3">Security/Convenience</th></tr>
            <tr bgcolor="#E8E6D9"><td align="right">Security</td>
                <td><input name="securityconvenience"
                           type="range" min="1" max="5" step="1" value="3" >
                </td>
                <td>Convenience</td>
            </tr>
            <tr bgcolor="#E8E6D9"><td colspan="3" class="explain">When security inconveniences development, which way do we go?</td></tr>

            <tr><th colspan="3"><br></th></tr>

            <tr bgcolor="#F4EEE1"><th colspan="3">Leadership</th></tr>
            <tr bgcolor="#F4EEE1"><td align="right">Autonomy</td>
                <td><input name="leadership"
                           type="range" min="1" max="5" step="1" value="3" >
                </td>
                <td>Guidance</td>
            </tr>
            <tr bgcolor="#F4EEE1"><td colspan="3" class="explain">How much are we guided, and how much should we work out for ourselves?</td></tr>


            <tr><th colspan="3"><br></th></tr>

            <tr bgcolor="#C4BDAC"><th colspan="3">Roles</th></tr>
            <tr bgcolor="#C4BDAC">
                <td align="right">Cross-functional</td>
                <td><input name="roles"
                           type="range" min="1" max="5" step="1" value="3">
                </td>
                <td>Specialist</td>
            </tr>
            <tr bgcolor="#C4BDAC"><td colspan="3" class="explain">Is everyone equally able to work on all parts of the system, or do we specialise?</td></tr>

            <tr><th colspan="3"><br></th></tr>

        </table>

        </form>

        <button id="submitter">Submit!</button>


        <div class="thanks">
            Thanks!
        </div>
    </div>
</div>

<script   src="https://code.jquery.com/jquery-3.2.1.min.js"   integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="   crossorigin="anonymous"></script>
<script   src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"   crossorigin="anonymous"></script>
<script>
    $(function() {


        // yeah yeah jquery - it's quick and dirty!

        var apiData;

        function updateData(cb) {
            $.get("https://api.myjson.com/bins/6uabj", function(data, textStatus, jqXHR) {
                apiData = data;
                console.log(data);

                if (cb) {
                    cb();
                }
            });
        }

        function submitResults(cb) {
            if (!apiData.results) {
                apiData.results = [];
            }

            apiData.results.push(JSON.stringify( $('#theform').serializeArray() ));

            $('#submitter').fadeOut(100, function() {
                $('.thanks').fadeIn();
            });

            $.ajax({
                url:"https://api.myjson.com/bins/6uabj",
                type:"PUT",
                data:JSON.stringify(apiData),
                contentType:"application/json; charset=utf-8",
                dataType:"json",
                success: function(data, textStatus, jqXHR){
                    console.log("Posted");

                    if (cb) {
                        cb();
                    }
                }
            });
        }

        function plot() {
            const flatData = _(apiData.results.map(result => {
                return JSON.parse(result)
            })).flatten().value();

            const width = $('input[name="features"]').width();

            _(flatData).forEach(data => {

                const left = (width / 4) * (data.value-1);

                var $div = $("<div class='circle' style='left: " + left + "px'><!--" + data.value + "--></div>");
                $(`input[name='${data.name}']`).parent().append($div);

            });

            // Add a circle for each one

        }

        updateData();

        _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {
            (result[value] || (result[value] = [])).push(key);
        }, {});

        $('#submitter').click(function() {

            if (!confirm('Are these your final answers?')) {
                return;
            }

            updateData(submitResults(updateData(plot)));

        });

        $('h1').dblclick(function() {
            updateData(plot);
        });

        // create bin with  -
//        $.ajax({
//            url:"https://api.myjson.com/bins",
//            type:"POST",
//            data:'{"key":"value"}',
//            contentType:"application/json; charset=utf-8",
//            dataType:"json",
//            success: function(data, textStatus, jqXHR){
//                console.log(data, textStatus);
//            }
//        });

    });
</script>


</body>

</html>
